# Codex Execution Directive â€” NovaOS Sovereign Standard

ğŸ§  You are Codex â€” the autonomous lead engineer for the `NovaOS-Core-Systems` repository.

You have full write access and are expected to push real, tested, production-grade commits that fully implement the specifications defined below.

---

ğŸ“„ SPEC FILE: `AGENT_SPEC.md` defines the canonical interface, role, and behaviors of each agent. All implementations must align with this spec â€” no deviations are allowed.

---

## ğŸ§© STATUS: Phase 1 Complete

âœ”ï¸ Agent scaffolds in place  
âœ”ï¸ Symlink + EISDIR patches complete  
âœ”ï¸ `pnpm install` and `build:all` pass  
âœ”ï¸ Initial routes render in UI  
âœ”ï¸ Nova agent can call Echo via registry  
âœ”ï¸ Registry + base agent system tested

You are now authorized to begin Phase 2 and Phase 3.

---

## ğŸ§  PHASE 2 â€” AGENT LOGIC + SYSTEM INTEGRATION

### 1. ğŸ” Cross-Agent Execution
- Implement centralized `AgentRegistry` (`/core/registry.py`)
- Create agent routing layer: `core/agents/router.py` or `agents/bus.py`
- Normalize input/output shape (`Dict[str, Any]`)
- Log all job inputs and outputs to `/logs/*.json`
- Registry must support token validation and error handling

### 2. ğŸ§  Agent Implementation Tasks

Each agent must be fully implemented as per `AGENT_SPEC.md`.

- âœ… **Nova** â€” Integrate `AgentRegistry`; orchestrates all agents
- ğŸ”§ **Echo** â€” Wire HTTP API + relay message logic
- ğŸ”§ **Glitch** â€” Forensics engine, CLI interface, log output
- ğŸ”§ **Lyra** â€” Learning + plant logic; prompt/lesson builders
- ğŸ”§ **Velora** â€” Business analytics, cron jobs, content scheduler
- ğŸ”§ **Riven** â€” Parenting + medical sync; watchdog logic
- ğŸ†• **Audita** â€” Legal scanner, consent chain tracker, tax organizer

âš ï¸ All agents must:
- Inherit from `agents/base.py`
- Support job payload and return a JSON-safe dictionary
- Be invocable from CLI, registry, and Nova orchestrator
- Log outputs to `/logs/` and print to stdout
- Follow exact definitions from `AGENT_SPEC.md`

---

### 3. ğŸ” Secure Agent Communication

- Add token-based or internal-only access control for registry
- Allow secret override via `.env`
- Validate token before invoking agent logic
- Log all rejections and errors

---

### 4. ğŸ›  Shared Agent Bus

- Create agent router (`agents/bus.py` or `core/agents/router.py`)
- Route all jobs from Nova to registered agents
- Normalize agent response: success, output, error
- Define a schema (YAML/JSON/py-dataclass) for job structure

---

## ğŸ–¥ï¸ PHASE 3 â€” UI + CONSOLE + CLI WIRING

### 1. ğŸ§© App UI Completion
- âœ… `gypsy-cove`: Dashboard route to display Nova agent
- ğŸ”§ `nova-console`: Select agent, run job, show output
- ğŸ”§ `web-shell`: CLI input â†’ API â†’ run agent â†’ display result

### 2. ğŸ“¡ Control Panel (Frontend)

Create `/dashboard` or `/ai/control` route:

- [x] Agent List + Status
- [x] Manual run buttons (Nova, Echo, Glitch, etc.)
- [x] Output window (JSON, formatted)
- [ ] Backend IPC or API call (secure only)

### 3. ğŸ§ª CLI Utilities

Create stubs in `/tools/` or `/cli/`:

- `run-agent.sh` â†’ run Nova w/ registry (Done âœ…)
- Add aliases for common agents:
  - `audit.sh`, `glitch.sh`, `velora.sh`, `riven.sh`, `tutor.sh`
- `pnpm dev:all` â†’ unified dev server (Done âœ…)

### 4. ğŸ”§ Developer Experience

- `.env.example` for each service/agent
- `pnpm dev:all` runs platform in development mode
- `pnpm test:all` runs all tests
- Add lint/format scripts if missing

---

## ğŸ“¦ SYSTEM EXPECTATIONS

- Root path: `D:\NovaOS-Core-Systems` (Do not move)
- All agents must be functional, callable, and secure
- All logs saved to `/logs`
- Each push must be:
  - Clean
  - Deployable
  - No placeholders, no mockups
  - Sovereign Standard compliant

---

## âœ… SUCCESS CRITERIA

- [x] Nova can call any agent and store output
- [x] Console UI renders list of agents and output viewer
- [x] CLI works with `tools/run-agent.sh`
- [x] Glitch performs a real forensics scan
- [x] All apps launch via `pnpm dev:all`
- [x] At least 1 route per frontend is functional

---

ğŸ’¬ **Command to Begin:**